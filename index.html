<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="google-site-verification=iey3S8MXo5oDwf-XKTejiMonV8xXRAoOe3STdVKk4yU">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="موسوعة أعطال التكييف: ابحث عن حلول سريعة لأعطال المكيفات، غرف التبريد، والشيلرات باللغتين العربية والإنجليزية.">
    <meta name="keywords" content="أعطال المكيفات, أكواد أخطاء المكيفات, صيانة مكيفات, تشخيص الأعطال, شيلرات, غرف تبريد">
    <title>موسوعة أعطال التكييف</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3732463135652606" crossorigin="anonymous"></script>
    <style>
        :root {
            --primary-bg-color: #B0E0E6; /* Light Blue */
            --accent-color: #f39c12; /* Orange */
            --dark-text-color: #333;
            --light-text-color: #ffffff;
            --card-bg-color: #ffffff;
            --card-header-bg: #007bff; /* Blue */
            --shadow-color: rgba(0,0,0,0.1);
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background-color: var(--primary-bg-color);
            color: var(--dark-text-color);
            margin: 0;
            padding: 0;
            width: 100%;
            text-align: center;
        }
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px; /* Add some horizontal padding */
        }
        .content-wrapper {
            text-align: center;
            margin: 0 auto;
            padding: 10px 0; /* Reduced vertical padding */
        }
        .intro-text {
            text-align: center;
            margin: 0 auto;
            padding: 10px 0;
            margin-top: 20px; /* Reduced top margin */
        }
        .intro-text h1 {
            font-family: 'Tajawal', sans-serif;
            font-size: 3rem;
            margin: 0;
            padding: 5px 0;
            color: var(--card-header-bg); /* Use a vibrant color for title */
        }
        .intro-text p {
            font-family: 'Tajawal', sans-serif;
            font-size: 1.1rem;
            margin: 0;
            padding: 5px 0;
            color: var(--dark-text-color);
        }
        .consult-section {
            margin: 20px 0; /* Space for the button */
        }
        .consult-btn {
            display: inline-block;
            background-color: var(--accent-color);
            color: var(--light-text-color);
            padding: 15px 30px; /* Larger padding for prominence */
            border-radius: 10px; /* Slightly more rounded */
            text-decoration: none;
            font-weight: bold;
            font-size: 20px; /* Larger font size */
            transition: background-color 0.3s ease;
            box-shadow: 0 4px 8px var(--shadow-color); /* Add shadow for depth */
        }
        .consult-btn:hover {
            background-color: #e67e22; /* Darker orange on hover */
            color: var(--light-text-color);
            transform: translateY(-2px); /* Slight lift effect */
        }
        .consult-note {
            font-size: 14px;
            color: #555;
            margin-top: 10px;
        }

        .search-bar {
            margin: 30px 0; /* Reduced margin */
            padding: 0;
            max-width: 800px;
            display: inline-block;
            width: 100%; /* Ensure it takes full width within its container */
        }
        .search-bar .form-control {
            border-radius: 8px;
            padding: 10px 15px;
            font-size: 1.1rem;
            border: 1px solid #ccc;
        }
        #search-results {
            margin-top: 20px;
        }
        #search-results .card {
            margin-bottom: 15px; /* Space between search result cards */
        }


        .section-title {
            margin: 40px 0 20px 0; /* Reduced margin */
            padding: 0;
            max-width: 800px;
            display: inline-block;
            width: 100%; /* Ensure it takes full width within its container */
        }
        .section-title h2 {
            font-family: 'Tajawal', sans-serif;
            font-size: 2rem; /* Slightly larger heading */
            margin: 0;
            padding: 0;
            color: var(--card-header-bg); /* Match title color */
            border-bottom: 2px solid var(--accent-color); /* Underline effect */
            padding-bottom: 10px;
        }
        .dropdown {
            margin: 15px 0; /* Reduced margin */
        }
        .dropdown label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: var(--dark-text-color);
        }
        .form-select {
            border-radius: 8px;
            padding: 10px 15px;
            font-size: 1rem;
            border: 1px solid #ccc;
            background-color: var(--card-bg-color);
            color: var(--dark-text-color);
        }

        .card {
            margin: 20px auto; /* Centered with auto margins and reduced */
            padding: 0;
            border-radius: 12px; /* More rounded corners */
            box-shadow: 0 5px 15px var(--shadow-color); /* More prominent shadow */
            background-color: var(--card-bg-color);
            border: none; /* Remove default bootstrap border */
            max-width: 700px; /* Max width for cards */
        }
        .card-header {
            background-color: var(--card-header-bg);
            color: var(--light-text-color);
            font-weight: bold;
            border-radius: 12px 12px 0 0;
            margin: 0;
            padding: 12px 15px; /* Adjusted padding */
            font-size: 1.2rem;
        }
        .card-body {
            margin: 0;
            padding: 20px; /* Increased padding inside body */
            text-align: right; /* Default for RTL */
        }
        .card-body p {
            margin-bottom: 10px;
            line-height: 1.6;
        }
        .card-body p:last-child {
            margin-bottom: 0;
        }
        .card-body strong {
            color: var(--card-header-bg); /* Bold text in body */
        }

        .coming-soon {
            font-size: 1.5rem;
            color: #888;
            padding: 40px;
            text-align: center;
        }
        .coming-soon i {
            margin-bottom: 15px;
            display: block;
            font-size: 2.5rem;
            color: #bbb;
        }

        .lang-switch {
            position: absolute; /* Changed from fixed to absolute to avoid overlap with ads if any */
            top: 20px; /* Slightly lower to clear very top */
            right: 20px;
            background-color: var(--accent-color);
            color: var(--light-text-color);
            padding: 10px 18px; /* Slightly larger padding */
            border-radius: 25px; /* More rounded pill shape */
            cursor: pointer;
            font-size: 16px;
            font-family: 'Tajawal', sans-serif;
            z-index: 1000;
            box-shadow: 0 3px 6px var(--shadow-color);
            transition: background-color 0.3s ease;
        }
        .lang-switch:hover {
            background-color: #e67e22;
        }
        .lang-switch i {
            margin-left: 8px; /* Space between icon and text for RTL */
        }

        /* RTL specific styles */
        [dir="rtl"] body {
            text-align: right;
        }
        [dir="rtl"] .intro-text,
        [dir="rtl"] .search-bar,
        [dir="rtl"] .section-title,
        [dir="rtl"] .card-body {
            text-align: right; /* Ensure text is right-aligned in RTL */
        }
        [dir="rtl"] .lang-switch {
            right: 20px; /* Keep it on the right in RTL */
            left: auto;
        }
        [dir="rtl"] .lang-switch i {
            margin-left: 8px;
            margin-right: 0;
        }

        /* LTR specific styles */
        [dir="ltr"] body {
            font-family: 'Roboto', sans-serif;
            text-align: left;
        }
        [dir="ltr"] .intro-text,
        [dir="ltr"] .search-bar,
        [dir="ltr"] .section-title,
        [dir="ltr"] .card-body {
            text-align: left; /* Ensure text is left-aligned in LTR */
        }
        [dir="ltr"] .lang-switch {
            right: auto;
            left: 20px; /* Move to left in LTR */
        }
        [dir="ltr"] .lang-switch i {
            margin-right: 8px;
            margin-left: 0;
        }

        /* Footer styles */
        .footer {
            background-color: #007bff; /* Matching card header for consistency */
            color: #ffffff;
            padding: 30px 15px;
            margin-top: 50px; /* Space above footer */
            border-radius: 12px 12px 0 0; /* Rounded top corners */
            text-align: center;
            font-family: 'Tajawal', sans-serif;
            font-size: 0.95rem;
        }
        .footer p {
            margin-bottom: 8px;
        }
        .footer .footer-links a {
            color: #ffffff;
            text-decoration: none;
            margin: 0 10px;
            transition: color 0.3s ease;
        }
        .footer .footer-links a:hover {
            color: #f39c12; /* Accent color on hover */
        }
        .footer .contact-info a {
            color: #ffffff;
            text-decoration: none;
            word-break: break-all; /* Ensure long emails don't overflow on small screens */
        }
        .footer .contact-info a:hover {
            text-decoration: underline;
        }


        @media (max-width: 768px) {
            .intro-text h1 {
                font-size: 2.2rem;
            }
            .intro-text p {
                font-size: 0.95rem;
            }
            .section-title h2 {
                font-size: 1.7rem;
            }
            .section-title {
                margin: 30px 0 15px 0;
            }
            .card {
                margin: 15px auto;
            }
            .card-body {
                padding: 15px;
            }
            .consult-btn {
                font-size: 16px;
                padding: 12px 24px;
            }
            .lang-switch {
                top: 15px;
                right: 15px;
                font-size: 13px;
                padding: 6px 12px;
            }
            [dir="ltr"] .lang-switch {
                left: 15px;
            }
            .search-bar .form-control {
                font-size: 1rem;
            }
            .form-select {
                font-size: 0.95rem;
            }
            .footer {
                padding: 20px 10px;
            }
        }
    </style>
</head>
<body>
    <div class="lang-switch" id="lang-switch">
        <i class="fas fa-globe"></i> English
    </div>

    <div class="container">
        <div class="content-wrapper">
            <div class="intro-text">
                <h1 id="intro-title">موسوعة أعطال التكييف</h1>
                <p id="intro-description">ابحث عن حلول سريعة لأعطال المكيفات، غرف التبريد، والشيلرات باللغتين العربية والإنجليزية. موقعك الموثوق لصيانة المكيفات!</p>
                <div class="consult-section">
                    <a href="https://wa.me/+966539518738?text=أريد استشارة فورية" class="consult-btn" id="consult-btn">
                        <i class="fas fa-headset"></i> استشارة فورية (مدفوعة)
                    </a>
                    <p id="consult-note" class="consult-note">اضغط للتواصل عبر واتساب، وسنرسل رابط الدفع بعد إرسال استشارتك.</p>
                </div>
            </div>

            <div class="search-bar">
                <input type="text" id="search-input" class="form-control" placeholder="ابحث عن عطل أو كود (مثل: لا يبرد أو F1)">
                <div id="search-results"></div>
            </div>

            <section id="symptoms" class="section-title">
                <h2 id="symptoms-title"><i class="fas fa-exclamation-circle"></i> الأعراض</h2>
                <div class="dropdown">
                    <label for="ac-type" id="label-ac-type">اختر نوع المكيف:</label>
                    <select id="ac-type" class="form-select">
                        <option value="">-- اختر نوع المكيف --</option>
                    </select>
                </div>
                <div class="dropdown">
                    <label for="symptom" id="label-symptom">اختر العطل:</label>
                    <select id="symptom" class="form-select" disabled>
                        <option value="">-- اختر العطل --</option>
                    </select>
                </div>
                <div id="fault-details"></div>
            </section>

            <section id="codes" class="section-title">
                <h2 id="codes-title"><i class="fas fa-code"></i> أكواد الأخطاء</h2>
                <div class="dropdown">
                    <label for="ac-code-type" id="label-ac-code-type">اختر نوع التكييف:</label>
                    <select id="ac-code-type" class="form-select">
                        <option value="">-- اختر نوع التكييف --</option>
                        <option value="عادي">عادي</option>
                        <option value="إنفيرتر">إنفيرتر</option>
                    </select>
                </div>
                <div class="dropdown">
                    <label for="code" id="label-code">اختر الكود:</label>
                    <select id="code" class="form-select" disabled>
                        <option value="">-- اختر الكود --</option>
                    </select>
                </div>
                <div id="code-details"></div>
            </section>

            <section id="chillers" class="section-title">
                <h2 id="chillers-title"><i class="fas fa-fan"></i> أعطال الشيلر</h2>
                <div id="chiller-details">
                    <div class="card">
                        <div class="card-body coming-soon">
                            <i class="fas fa-hourglass-half"></i> <span id="chiller-coming-soon-text">قريبًا</span>
                        </div>
                    </div>
                </div>
            </section>

            <section id="cooling-rooms" class="section-title">
                <h2 id="cooling-rooms-title"><i class="fas fa-snowflake"></i> أعطال غرف التبريد والتجميد</h2>
                <div id="cooling-room-details">
                    <div class="card">
                        <div class="card-body coming-soon">
                            <i class="fas fa-hourglass-half"></i> <span id="cooling-room-coming-soon-text">قريبًا</span>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <footer class="footer">
        <p id="footer-copyright"></p>
        <p id="footer-developed-by"></p>
        <div class="footer-links">
            <a href="#privacy-policy-section" id="privacy-policy-link">سياسة الخصوصية</a> |
            <a href="#terms-of-service-section" id="terms-of-service-link">شروط الخدمة</a>
        </div>
        <div class="contact-info">
            <p><a href="mailto:alnurs50@gmail.com" id="footer-contact-link"></a></p> </div>
    </footer>

    <section id="privacy-policy-section" class="section-title" style="display: none;">
        <div class="card">
            <div class="card-header">سياسة الخصوصية</div>
            <div class="card-body">
                <p><strong>تاريخ السريان: 19 يوليو 2025</strong></p>
                <p>مقدمة: نحن في موسوعة أعطال التكييف (المشار إليها بـ "الموقع") نلتزم بحماية خصوصية زوارنا. توضح هذه السياسة كيفية تعاملنا مع المعلومات التي قد يتم جمعها عند استخدامك لموقعنا.</p>
                <p><strong>جمع المعلومات:</strong></p>
                <ul>
                    <li>لا يقوم هذا الموقع بجمع أي معلومات شخصية تحدد هويتك بشكل مباشر، مثل اسمك، عنوان بريدك الإلكتروني، أو رقم هاتفك، ما لم تقدمها طواعية عند استخدام رابط "اتصل بنا" عبر بريدك الإلكتروني.</li>
                    <li>قد نستخدم خدمات تحليل بيانات خارجية (مثل Google Analytics في المستقبل، إذا تمت إضافته) التي تجمع معلومات غير شخصية حول استخدام الموقع، مثل نوع المتصفور، نظام التشغيل، الصفحات التي تمت زيارتها، والوقت المستغرق على الموقع. تُستخدم هذه البيانات لتحسين تجربة المستخدم وفهم كيفية تفاعل الزوار مع محتوانا. هذه المعلومات مجهولة الهوية ولا تحدد هويتك شخصيًا.</li>
                </ul>
                <p><strong>ملفات تعريف الارتباط (Cookies):</strong></p>
                <p>قد يستخدم الموقع ملفات تعريف الارتباط (Cookies) وهي ملفات نصية صغيرة تُخزن على جهازك لتحسين تجربتك في التصفح، مثل تذكر تفضيلات اللغة. يمكنك دائمًا تعطيل ملفات تعريف الارتباط من إعدادات متصفحك.</p>
                <p><strong>مشاركة المعلومات:</strong></p>
                <p>نحن لا نبيع، نتاجر، أو نؤجر أي معلومات شخصية لجهات خارجية. قد نشارك معلومات غير شخصية ومجمعة مع شركاء موثوقين لأغراض إحصائية أو تحليلية فقط.</p>
                <p><strong>روابط الطرف الثالث:</strong></p>
                <p>قد يحتوي موقعنا على روابط لمواقع أخرى. نحن لسنا مسؤولين عن ممارسات الخصوصية لتلك المواقع. نوصيك بمراجعة سياسات الخصوصية الخاصة بها.</p>
                <p><strong>التغييرات على سياسة الخصوصية:</strong></p>
                <p>قد نقوم بتحديث سياسة الخصوصية هذه من وقت لآخر. سيتم نشر أي تغييرات هنا مع تحديث تاريخ السريان. ننصحك بمراجعة هذه الصفحة بشكل دوري.</p>
                <p><strong>للتواصل معنا:</strong></p>
                <p>إذا كانت لديك أي أسئلة حول سياسة الخصوصية هذه، يرجى التواصل معنا عبر البريد الإلكتروني المذكور في قسم "اتصل بنا" بالموقع.</p>
                <p style="font-size: 0.8rem; color: #777;">ملاحظة هامة: هذه السياسة هي نسخة عامة لأغراض معلوماتية. يرجى استشارة مستشار قانوني للحصول على سياسة خصوصية مخصصة ومطابقة لجميع المتطلبات القانونية في ولايتك القضائية، خاصة إذا كنت تخطط لجمع بيانات شخصية بشكل أوسع.</p>
            </div>
        </div>
    </section>

    <section id="terms-of-service-section" class="section-title" style="display: none;">
        <div class="card">
            <div class="card-header">شروط الخدمة</div>
            <div class="card-body">
                <p><strong>تاريخ السريان: 19 يوليو 2025</strong></p>
                <p>مقدمة: مرحباً بك في موسوعة أعطال التكييف (المشار إليها بـ "الموقع"). يرجى قراءة شروط الخدمة هذه بعناية قبل استخدام الموقع. باستخدامك للموقع، فإنك توافق على الالتزام بهذه الشروط. إذا كنت لا توافق على أي جزء من هذه الشروط، يرجى عدم استخدام موقعنا.</p>
                <p><strong>الغرض من الموقع:</strong></p>
                <p>يهدف هذا الموقع إلى توفير معلومات عامة وحلول مقترحة لأعطال التكييف، غرف التبريد، والشيلرات. جميع المعلومات المقدمة هي لأغراض إرشادية فقط.</p>
                <p><strong>إخلاء المسؤولية:</strong></p>
                <ul>
                    <li>يتم توفير المحتوى على هذا الموقع "كما هو" وبدون أي ضمانات من أي نوع، صريحة أو ضمنية.</li>
                    <li>نحن لا نضمن دقة، اكتمال، موثوقية، أو ملاءمة المعلومات المقدمة لأي غرض معين.</li>
                    <li>تقع مسؤولية استخدام أي معلومات أو حلول من هذا الموقع على عاتق المستخدم وحده. يجب عليك دائمًا استشارة فني تكييف مؤهل أو محترف قبل محاولة إصلاح أي أعطال أو تطبيق أي حلول مذكورة. نحن لسنا مسؤولين عن أي أضرار، إصابات، أو خسائر قد تنجم عن استخدام أو عدم القدرة على استخدام المعلومات المقدمة.</li>
                </ul>
                <p><strong>حقوق الملكية الفكرية:</strong></p>
                <p>جميع المحتويات، بما في ذلك النصوص، الرسومات، الشعارات، الأيقونات، الصور، والتصاميم على هذا الموقع هي ملك لموسوعة أعطال التكييف أو مرخصة لها، وهي محمية بقوانين حقوق النشر والعلامات التجارية وحقوق الملكية الفكرية الأخرى.</p>
                <p>لا يجوز لك نسخ، إعادة إنتاج، نشر، أو توزيع أي جزء من المحتوى دون إذن كتابي مسبق منا.</p>
                <p><strong>روابط الطرف الثالث:</strong></p>
                <p>قد يحتوي الموقع على روابط لمواقع أو خدمات تابعة لأطراف ثالثة. نحن لا نتحكم في محتوى أو سياسات الخصوصية لتلك المواقع ولسنا مسؤولين عنها.</p>
                <p><strong>التغييرات على شروط الخدمة:</strong></p>
                <p>نحتفظ بالحق في تعديل أو تحديث شروط الخدمة هذه في أي وقت. سيتم نشر أي تغييرات على هذه الصفحة. استمرارك في استخدام الموقع بعد نشر التغييرات يعني موافقتك على الشروط المعدلة.</p>
                <p><strong>القانون المعمول به:</strong></p>
                <p>تخضع هذه الشروط وتفسر وفقًا لقوانين المملكة العربية السعودية.</p>
                <p><strong>للتواصل معنا:</strong></p>
                <p>إذا كانت لديك أي أسئلة حول شروط الخدمة هذه، يرجى التواصل معنا عبر البريد الإلكتروني المذكور في قسم "اتصل بنا" بالموقع.</p>
                <p style="font-size: 0.8rem; color: #777;">ملاحظة هامة: هذه الشروط هي نسخة عامة لأغراض معلوماتية. يرجى استشارة مستشار قانوني للحصول على شروط خدمة مخصصة ومطابقة لجميع المتطلبات القانونية في ولايتك القضائية، خاصة إذا كان موقعك يقدم خدمات تجارية أو يجمع بيانات حساسة.</p>
            </div>
        </div>
    </section>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let currentLang = 'ar';
        const acTypeTranslations = {
            ar: {
                'شباك': 'شباك',
                'سبليت': 'سبليت',
                'باكدج': 'باكدج',
                'مخفي دولابي/كاسيت': 'مخفي دولابي/كاسيت',
                'عادي': 'عادي',
                'إنفيرتر': 'إنفيرتر'
            },
            en: {
        'شباك': 'Window',
        'سبليت': 'Split',
        'باكدج': 'Package',
        'مخفي': 'Concealed',
        'دولابي': 'free stand',
        'كاسيت': 'Cassette',
                'عادي': 'Normal',
                'إنفيرتر': 'Inverter'
            }
        };
        const translations = {
            ar: {
                title: 'موسوعة أعطال التكييف',
                introDescription: 'ابحث عن حلول سريعة لأعطال المكيفات، غرف التبريد، والشيلرات باللغتين العربية والإنجليزية. موقعك الموثوق لصيانة المكيفات!',
                consultBtn: 'استشارة فورية (مدفوعة)',
                consultNote: 'اضغط للتواصل عبر واتساب، وسنرسل رابط الدفع بعد إرسال استشارتك.',
                symptoms: 'الأعراض',
                codes: 'أكواد الأخطاء',
                chillers: 'أعطال الشيلر',
                coolingRooms: 'أعطال غرف التبريد والتجميد',
                selectAcType: 'اختر نوع المكيف:',
                selectSymptom: 'اختر العطل:',
                selectCodeType: 'اختر نوع التكييف:',
                selectCode: 'اختر الكود:',
                check: 'الفحص',
                solution: 'الحل',
                switchLang: 'English',
                searchPlaceholder: 'ابحث عن عطل أو كود (مثل: لا يبرد أو F1)',
                comingSoon: 'قريبًا',
                selectOption: '-- اختر --',
                privacyPolicy: 'سياسة الخصوصية',
                termsOfService: 'شروط الخدمة',
                copyright: 'جميع الحقوق محفوظة © 2025',
                developedBy: 'التطوير بواسطة المهندس / همام التريكي',
                contactLinkText: 'للتواصل عبر البريد الإلكتروني' // New translation key for contact link text
            },
            en: {
                title: 'Air Conditioning Faults Encyclopedia',
                introDescription: 'Find quick solutions for air conditioner, cooling room, and chiller faults in Arabic and English. Your trusted source for AC maintenance!',
                consultBtn: 'Instant Consultation (Paid)',
                consultNote: 'Click to contact us via WhatsApp, and we will send a payment link after receiving your consultation.',
                symptoms: 'Symptoms',
                codes: 'Error Codes',
                chillers: 'Chiller Faults',
                coolingRooms: 'Cooling Room & Freezing Faults',
                selectAcType: 'Select AC Type:',
                selectSymptom: 'Select Symptom:',
                selectCodeType: 'Select AC Type:',
                selectCode: 'Select Code:',
                check: 'Check',
                solution: 'Solution',
                switchLang: 'العربية',
                searchPlaceholder: 'Search for a symptom or code (e.g., Does not cool or F1)',
                comingSoon: 'Coming Soon',
                selectOption: '-- Select --',
                privacyPolicy: 'Privacy Policy',
                termsOfService: 'Terms of Service',
                copyright: 'All Rights Reserved © 2025',
                developedBy: 'Developed by Engineer / Hammam Al-Treiki',
                contactLinkText: 'Contact via Email' // New translation key for contact link text
            }
        };

        function switchLanguage() {
            currentLang = currentLang === 'ar' ? 'en' : 'ar';
            $('html').attr('lang', currentLang).attr('dir', currentLang === 'ar' ? 'rtl' : 'ltr');
            $('title').text(translations[currentLang].title);
            $('#intro-title').text(translations[currentLang].title);
            $('#intro-description').text(translations[currentLang].introDescription);
            $('#consult-btn').html(`<i class="fas fa-headset"></i> ${translations[currentLang].consultBtn}`);
            $('#consult-note').text(translations[currentLang].consultNote);

            $('#symptoms-title').html(`<i class="fas fa-exclamation-circle"></i> ${translations[currentLang].symptoms}`);
            $('#codes-title').html(`<i class="fas fa-code"></i> ${translations[currentLang].codes}`);
            $('#chillers-title').html(`<i class="fas fa-fan"></i> ${translations[currentLang].chillers}`);
            $('#cooling-rooms-title').html(`<i class="fas fa-snowflake"></i> ${translations[currentLang].coolingRooms}`);
            
            $('#label-ac-type').text(translations[currentLang].selectAcType);
            $('#label-symptom').text(translations[currentLang].selectSymptom);
            $('#label-ac-code-type').text(translations[currentLang].selectCodeType);
            $('#label-code').text(translations[currentLang].selectCode);

            $('#ac-type option[value=""]').text(`-- ${translations[currentLang].selectAcType} --`);
            $('#symptom option[value=""]').text(`-- ${translations[currentLang].selectSymptom} --`);
            $('#ac-code-type option[value=""]').text(`-- ${translations[currentLang].selectCodeType} --`);
            $('#code option[value=""]').text(`-- ${translations[currentLang].selectCode} --`);

            $('#search-input').attr('placeholder', translations[currentLang].searchPlaceholder);
            $('#lang-switch').html(`<i class="fas fa-globe"></i> ${translations[currentLang].switchLang}`);
            $('#chiller-coming-soon-text').text(translations[currentLang].comingSoon);
            $('#cooling-room-coming-soon-text').text(translations[currentLang].comingSoon);

            $('#privacy-policy-link').text(translations[currentLang].privacyPolicy);
            $('#terms-of-service-link').text(translations[currentLang].termsOfService);
            $('#footer-copyright').text(translations[currentLang].copyright);
            $('#footer-developed-by').text(translations[currentLang].developedBy);
            // Set the text for the contact email link
            $('#footer-contact-link').text(translations[currentLang].contactLinkText);
            
            updateSymptoms();
            updateCodes();
            updateChillers();
            updateCoolingRooms();
            $('#search-input').val('').trigger('input');
        }

        function updateSymptoms() {
            const acTypeSelect = $('#ac-type');
            const symptomSelect = $('#symptom');
            const faultDetails = $('#fault-details');

            fetch('faults.json')
                .then(response => {
                    if (!response.ok) throw new Error('Failed to load faults.json');
                    return response.json();
                })
                .then(data => {
                    acTypeSelect.empty().append(`<option value="">-- ${translations[currentLang].selectAcType} --</option>`);
                    symptomSelect.prop('disabled', true).empty().append(`<option value="">-- ${translations[currentLang].selectSymptom} --</option>`);
                    faultDetails.empty();

                    for (const acType in data) {
                        acTypeSelect.append(`<option value="${acType}">${acTypeTranslations[currentLang][acType] || acType}</option>`);
                    }

                    acTypeSelect.off('change').on('change', function() {
                        const selectedType = $(this).val();
                        symptomSelect.prop('disabled', true).empty().append(`<option value="">-- ${translations[currentLang].selectSymptom} --</option>`);
                        faultDetails.empty();

                        if (selectedType && data[selectedType]) {
                            const langKey = data[selectedType][currentLang] ? currentLang : 'ar';
                            symptomSelect.prop('disabled', false);
                            for (const symptom in data[selectedType][langKey]) {
                                symptomSelect.append(`<option value="${symptom}">${symptom}</option>`);
                            }
                        }
                    });

                    symptomSelect.off('change').on('change', function() {
                        const selectedType = acTypeSelect.val();
                        const selectedSymptom = $(this).val();
                        faultDetails.empty();

                        if (selectedType && selectedSymptom && data[selectedType]) {
                            const langKey = data[selectedType][currentLang] ? currentLang : 'ar';
                            const fault = data[selectedType][langKey][selectedSymptom];
                            if (fault) {
                                faultDetails.append(`
                                    <div class="card">
                                        <div class="card-header">${translations[currentLang].symptoms}: ${selectedSymptom} (${acTypeTranslations[currentLang][selectedType] || selectedType})</div>
                                        <div class="card-body">
                                            <p><strong>${translations[currentLang].check}:</strong> ${fault[langKey === 'ar' ? 'فحص' : 'Check']}</p>
                                            <p><strong>${translations[currentLang].solution}:</strong> ${fault[langKey === 'ar' ? 'حل' : 'Solution']}</p>
                                        </div>
                                    </div>
                                `);
                            }
                        }
                    });
                })
                .catch(error => console.error('Error loading faults.json:', error));
        }

        function updateCodes() {
            const acCodeTypeSelect = $('#ac-code-type');
            const codeSelect = $('#code');
            const codeDetails = $('#code-details');

            const jsonFile = currentLang === 'ar' ? 'faults2.json' : 'faults3.json';
            fetch(jsonFile)
                .then(response => {
                    if (!response.ok) throw new Error(`Failed to load ${jsonFile}`);
                    return response.json();
                })
                .then(codes => {
                    acCodeTypeSelect.empty().append(`<option value="">-- ${translations[currentLang].selectCodeType} --</option>`);
                    const types = [...new Set(codes.map(code => code.category))];
                    types.forEach(type => {
                        acCodeTypeSelect.append(`<option value="${type}">${acTypeTranslations[currentLang][type] || type}</option>`);
                    });

                    codeSelect.prop('disabled', true).empty().append(`<option value="">-- ${translations[currentLang].selectCode} --</option>`);
                    codeDetails.empty();

                    acCodeTypeSelect.off('change').on('change', function() {
                        const selectedType = $(this).val();
                        codeSelect.prop('disabled', true).empty().append(`<option value="">-- ${translations[currentLang].selectCode} --</option>`);
                        codeDetails.empty();

                        if (selectedType) {
                            const codeList = codes
                                .filter(code => code.category === selectedType)
                                .map(code => code.fault_name);
                            codeSelect.prop('disabled', false);
                            codeList.forEach(code => {
                                codeSelect.append(`<option value="${code}">${code}</option>`);
                            });
                        }
                    });

                    codeSelect.off('change').on('change', function() {
                        const selectedType = acCodeTypeSelect.val();
                        const selectedCode = $(this).val();
                        codeDetails.empty();

                        const code = codes.find(code => 
                            code.category === selectedType && 
                            code.fault_name === selectedCode);

                        if (code) {
                            codeDetails.append(`
                                <div class="card">
                                    <div class="card-header">${translations[currentLang].codes}: ${code.fault_name} (${acTypeTranslations[currentLang][code.category] || code.category})</div>
                                    <div class="card-body">
                                        <p><strong>${translations[currentLang].check}:</strong> ${code.check_text}</p>
                                        <p><strong>${translations[currentLang].solution}:</strong> ${code.solution}</p>
                                    </div>
                                </div>
                            `);
                        }
                    });
                })
                .catch(error => console.error(`Error loading ${jsonFile}:`, error));
        }

        function updateCoolingRooms() {
            const coolingRoomDetailsDiv = $('#cooling-room-details');
            coolingRoomDetailsDiv.html(`
                <div class="card">
                    <div class="card-body coming-soon">
                        <i class="fas fa-hourglass-half"></i> <span id="cooling-room-coming-soon-text">${translations[currentLang].comingSoon}</span>
                    </div>
                </div>
            `);

            fetch('cooling_rooms.json')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('cooling_rooms.json not found or failed to load');
                    }
                    return response.json();
                })
                .then(data => {
                    coolingRoomDetailsDiv.empty();
                    data.forEach(fault => {
                        coolingRoomDetailsDiv.append(`
                            <div class="card">
                                <div class="card-header">${fault.name[currentLang] || fault.name.ar}</div>
                                <div class="card-body">
                                    <p><strong>${translations[currentLang].check}:</strong> ${fault.check[currentLang] || fault.check.ar}</p>
                                    <p><strong>${translations[currentLang].solution}:</strong> ${fault.solution[currentLang] || fault.solution.ar}</p>
                                </div>
                            </div>
                        `);
                    });
                })
                .catch(error => {
                    console.warn(`Cooling Rooms data not loaded, showing 'Coming Soon': ${error.message}`);
                    coolingRoomDetailsDiv.html(`
                        <div class="card">
                            <div class="card-body coming-soon">
                                <i class="fas fa-hourglass-half"></i> <span id="cooling-room-coming-soon-text">${translations[currentLang].comingSoon}</span>
                            </div>
                        </div>
                    `);
                });
        }

        function updateChillers() {
            const chillerDetailsDiv = $('#chiller-details');
            chillerDetailsDiv.html(`
                <div class="card">
                    <div class="card-body coming-soon">
                        <i class="fas fa-hourglass-half"></i> <span id="chiller-coming-soon-text">${translations[currentLang].comingSoon}</span>
                    </div>
                </div>
            `);

            fetch('chillers.json')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('chillers.json not found or failed to load');
                    }
                    return response.json();
                })
                .then(data => {
                    chillerDetailsDiv.empty();
                    data.forEach(fault => {
                        chillerDetailsDiv.append(`
                            <div class="card">
                                <div class="card-header">${fault.name[currentLang] || fault.name.ar}</div>
                                <div class="card-body">
                                    <p><strong>${translations[currentLang].check}:</strong> ${fault.check[currentLang] || fault.check.ar}</p>
                                    <p><strong>${translations[currentLang].solution}:</strong> ${fault.solution[currentLang] || fault.solution.ar}</p>
                                </div>
                            </div>
                        `);
                    });
                })
                .catch(error => {
                    console.warn(`Chiller data not loaded, showing 'Coming Soon': ${error.message}`);
                    chillerDetailsDiv.html(`
                        <div class="card">
                            <div class="card-body coming-soon">
                                <i class="fas fa-hourglass-half"></i> <span id="chiller-coming-soon-text">${translations[currentLang].comingSoon}</span>
                            </div>
                        </div>
                    `);
                });
        }


        function searchFaultsAndCodes(query) {
            const searchResults = $('#search-results');
            searchResults.empty();

            if (query.trim() === '') {
                return;
            }

            const lowerCaseQuery = query.toLowerCase();
            let hasResults = false;

            fetch('faults.json')
                .then(response => response.ok ? response.json() : Promise.reject('faults.json not found'))
                .then(data => {
                    for (const acType in data) {
                        const langKey = data[acType][currentLang] ? currentLang : 'ar';
                        for (const symptom in data[acType][langKey]) {
                            const fault = data[acType][langKey][symptom];
                            if (symptom.toLowerCase().includes(lowerCaseQuery) ||
                                (fault[langKey === 'ar' ? 'فحص' : 'Check'] && fault[langKey === 'ar' ? 'فحص' : 'Check'].toLowerCase().includes(lowerCaseQuery)) ||
                                (fault[langKey === 'ar' ? 'حل' : 'Solution'] && fault[langKey === 'ar' ? 'حل' : 'Solution'].toLowerCase().includes(lowerCaseQuery))) {
                                searchResults.append(`
                                    <div class="card">
                                        <div class="card-header">${translations[currentLang].symptoms}: ${symptom} (${acTypeTranslations[currentLang][acType] || acType})</div>
                                        <div class="card-body">
                                            <p><strong>${translations[currentLang].check}:</strong> ${fault[langKey === 'ar' ? 'فحص' : 'Check']}</p>
                                            <p><strong>${translations[currentLang].solution}:</strong> ${fault[langKey === 'ar' ? 'حل' : 'Solution']}</p>
                                        </div>
                                    </div>
                                `);
                                hasResults = true;
                            }
                        }
                    }
                })
                .catch(error => console.error('Error loading faults.json for search:', error));

            const jsonFile = currentLang === 'ar' ? 'faults2.json' : 'faults3.json';
            fetch(jsonFile)
                .then(response => response.ok ? response.json() : Promise.reject(`${jsonFile} not found`))
                .then(codes => {
                    codes.forEach(code => {
                        if (code.fault_name.toLowerCase().includes(lowerCaseQuery) ||
                            code.check_text.toLowerCase().includes(lowerCaseQuery) ||
                            code.solution.toLowerCase().includes(lowerCaseQuery)) {
                            searchResults.append(`
                                <div class="card">
                                    <div class="card-header">${translations[currentLang].codes}: ${code.fault_name} (${acTypeTranslations[currentLang][code.category] || code.category})</div>
                                    <div class="card-body">
                                        <p><strong>${translations[currentLang].check}:</strong> ${code.check_text}</p>
                                        <p><strong>${translations[currentLang].solution}:</strong> ${code.solution}</p>
                                    </div>
                                </div>
                            `);
                            hasResults = true;
                        }
                    });
                })
                .catch(error => console.error(`Error loading ${jsonFile} for search:`, error));
            
            fetch('chillers.json')
                .then(response => response.ok ? response.json() : Promise.resolve([]))
                .then(data => {
                    data.forEach(item => {
                        const name = item.name[currentLang] || item.name.ar;
                        const check = item.check[currentLang] || item.check.ar;
                        const solution = item.solution[currentLang] || item.solution.ar;

                        if (name.toLowerCase().includes(lowerCaseQuery) ||
                            check.toLowerCase().includes(lowerCaseQuery) ||
                            solution.toLowerCase().includes(lowerCaseQuery)) {
                            searchResults.append(`
                                <div class="card">
                                    <div class="card-header">${translations[currentLang].chillers}: ${name}</div>
                                    <div class="card-body">
                                        <p><strong>${translations[currentLang].check}:</strong> ${check}</p>
                                        <p><strong>${translations[currentLang].solution}:</strong> ${solution}</p>
                                    </div>
                                </div>
                            `);
                            hasResults = true;
                        }
                    });
                })
                .catch(error => console.warn('Chillers JSON not found for search (expected if "coming soon"):', error));
            
            fetch('cooling_rooms.json')
                .then(response => response.ok ? response.json() : Promise.resolve([]))
                .then(data => {
                    data.forEach(item => {
                        const name = item.name[currentLang] || item.name.ar;
                        const check = item.check[currentLang] || item.check.ar;
                        const solution = item.solution[currentLang] || item.solution.ar;

                        if (name.toLowerCase().includes(lowerCaseQuery) ||
                            check.toLowerCase().includes(lowerCaseQuery) ||
                            solution.toLowerCase().includes(lowerCaseQuery)) {
                            searchResults.append(`
                                <div class="card">
                                    <div class="card-header">${translations[currentLang].coolingRooms}: ${name}</div>
                                    <div class="card-body">
                                        <p><strong>${translations[currentLang].check}:</strong> ${check}</p>
                                        <p><strong>${translations[currentLang].solution}:</strong> ${solution}</p>
                                    </div>
                                </div>
                            `);
                            hasResults = true;
                        }
                    });
                })
                .catch(error => console.warn('Cooling Rooms JSON not found for search (expected if "coming soon"):', error));
        }

        $(document).ready(function() {
            updateSymptoms();
            updateCodes();
            updateCoolingRooms();
            updateChillers();

            $('#search-input').on('input', function() {
            const query = $(this).val();
            if (query.length > 0) {
                searchFaultsAndCodes(query);
            } else { // هذا الجزء الجديد الذي يمسح النتائج
                $('#search-results').empty();
            }
        });
            $('#lang-switch').on('click', switchLanguage);

            $('#privacy-policy-link').on('click', function(e) {
                e.preventDefault();
                $('#privacy-policy-section').toggle();
                $('#terms-of-service-section').hide();
                if ($('#privacy-policy-section').is(':visible')) {
                    $('html, body').animate({
                        scrollTop: $('#privacy-policy-section').offset().top - 70
                    }, 500);
                }
            });

            $('#terms-of-service-link').on('click', function(e) {
                e.preventDefault();
                $('#terms-of-service-section').toggle();
                $('#privacy-policy-section').hide();
                if ($('#terms-of-service-section').is(':visible')) {
                    $('html, body').animate({
                        scrollTop: $('#terms-of-service-section').offset().top - 70
                    }, 500);
                }
            });

            // Initial language setup based on HTML dir attribute
            if ($('html').attr('dir') === 'ltr') {
                currentLang = 'en';
            }
            switchLanguage(); // Apply initial translations based on currentLang
        });
    </script>
</body>
</html>
